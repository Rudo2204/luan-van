\chapter{Tổng quan}
\section{Giới thiệu đề tài}
Trong khoảng hơn mười năm trở lại đây, với sự bùng nổ của kỉ nguyên công nghệ thông tin, sự nghiệp Công nghiệp hóa -- Hiện đại hóa của đất nước, cũng như xu thế phát triển kết nối toàn cầu của thế giới, ngày càng có nhiều hệ thống thiết bị điện tử nói chung và hệ thống điều khiển sử dụng vi điều khiển nhúng nói riêng được lập trình điều khiển và sử dụng một cách tự động, mang lại hiệu quả và tính tiện lợi cao. Các thiết bị nhúng cũng vì lý do này mà ngày càng được sử dụng rộng rãi trong mọi lĩnh vực của đời sống, từ những thiết bị sử dụng trong công nghiệp như các bộ vi điều khiển điều khiển máy CNC, robot chế tạo, v.v.. đến các thiết dân dụng có thể thấy ở mọi nơi như thiết bị phát sóng wifi, điện thoại thông minh, v.v.. Có thể nói rằng, thiết bị nhúng chính là chìa khóa trong kỉ nguyên kết nối toàn cầu này.

Tuy nhiên, các phần mềm viết cho các thiết bị nhúng rẻ tiền này phải nhỏ gọn, hiệu quả và tiết kiệm điện. Các phần mềm này tương tác với phần cứng (đặc biệt là các vi điều khiển của hệ thống) ở mức độ rất thấp. Vì sự giới hạn về phần cứng cũng như phần mềm này mà chỉ có rất ít ngôn ngữ được sử dụng trong lĩnh vực lập trình nhúng, trong đó có thể dễ dàng nhận thấy rằng ngôn ngữ C có thể được coi là ngôn ngữ chuẩn chủ đạo, thống trị lĩnh vực lập trình nhúng này.

Để hiểu lý do tại sao ngôn ngữ C lại được sử dụng rộng rãi trong lĩnh vực lập trình nhúng này, ta cần nhìn lại lịch sử: chính vì ngôn ngữ C được thiết kế trong thời gian mà bộ biên dịch (compiler) phải thực sự đơn giản, ngôn ngữ C sau khi biên dịch được hướng đến kết quả ngôn ngữ máy để chạy trên phần cứng. Có thể thấy rằng, ngôn ngữ C được thiết kế với mục đích lập trình hệ thống với các tiêu chí: truy cập trực tiếp đến bộ nhớ, mã máy sau khi biên dịch chạy hiệu quả, thư viện nhỏ và có thể dễ dàng điều chỉnh để có thể sử dụng trên các hệ thống khác (portability). Vì vậy, ngôn ngữ C thực sự rất phù hợp nhu cầu lập trình nhúng, chỉ cần bộ biên dịch C cho hệ thống vi điều khiển đang sử dụng thì ta có thể biên dịch được ngôn ngữ máy chạy trên hệ thống đó, tiết kiệm thời gian lập trình và nguồn lực để lập trình điều khiển các thiết bị nhúng này.

Tuy nhiên cũng vì lý do này mà ngôn ngữ C, lúc được thiết kế, không đi kèm với tiêu chí an toàn, đặc biệt là về truy cập bộ nhớ hệ thống, dẫn đến nhiều rủi ro về lỗi hệ thống, cũng như về vấn đề bảo mật. Một nghiên cứu gần đây cho thấy, đến khoảng 70\% các lỗ hổng bảo mật trong các sản phẩm của Microsoft liên quan đến các vấn đề về bộ nhớ, mà một trong những lý do chính là do các hệ thống này được lập trình sử dụng ngôn ngữ C, C++ \cite{ms_70}.
%Chúng ta có thể viết các phần mềm sử dụng C ngắn và bí hiểm nhưng lại có thể tương tác với hệ thống một cách gần như không thể đoán trước được, điều độc đáo về C này còn trở thành một cuộc thi thường niên trên thế giới!
Các chức năng mới tăng tính an toàn cho ngôn ngữ C như quản lý bộ nhớ an toàn hơn, chống phân mảnh bộ nhớ, thực hiện tác vụ đồng thời (concurrency), v.v.. thực sự khó, hay thậm chí là bất khả thi để có thể được thêm vào ngôn ngữ C hiện tại mà vẫn giữ được tính tương thích ngược với các phần mềm đã được viết trước đó.

Đây cũng có thể là lý do mà trong thời gian gần đây, ngày càng có nhiều ngôn ngữ mới được nghiên cứu và sử dụng, có thể kế đến đó là ngôn ngữ Go của Google, ngôn ngữ Swift của Apple, và ngôn ngữ Rust được tài trợ bởi tập đoàn Mozzila được nghiên cứu và phát triển để giải quyết các vấn đề gặp phải trong quá trình phát triển hệ thống sử dụng ngôn ngữ C. Trong các ngôn ngữ này, ngôn ngữ lập trình Rust ra mắt vào tháng 5 năm 2015, được thiết kế với tiêu chí ``to design and implement a safe, concurrent, practical, static systems language''. Bộ biên dịch Rust phân tích mã nguồn tĩnh (static) và đảm bảo tính thống nhất về kiểu (type), đảm bảo về vấn đề truy cập bộ nhớ. Với nhưng tiêu chí thiết kế này, Rust tập trung trở thành một ngôn ngữ đảm bảo an toàn bộ nhớ nhưng vẫn giữ được hiệu suất mạnh mẽ. Rust dường như là một lựa chọn logic để lập trình các hệ thống nhúng để có thể vừa đảm bảo an toàn bộ nhớ, hiệu suất của hệ thống, thay thế dần ngôn ngữ C trong lĩnh vực này.

\section{Mục tiêu và giới hạn đề tài}
Những ích lợi của một ngôn ngữ lập trình mới như Rust, cũng như những khẳng định mà Rust đưa ra về thiết kệ một ngôn ngữ hệ thống an toàn, đáng tin cậy, năng suất và hiệu quả cao đã tạo động lực cho tôi tiến hành nghiên cứu về ngôn ngữ này. Cụ thể mục tiêu của tôi là giới thiệu và đánh giá ngôn ngữ Rust, dựa trên các tiêu chí đưa ra ở chương \ref{ch2-top}, với hy vọng sẽ góp phần nâng cao nhận thức về ngôn ngữ lập trình tương đối mới mẻ này, cũng như tập trung nghiên cứu, phân tích Rust với mong muốn tìm hiểu liệu ngôn ngữ này có thực sự phù hợp cho lĩnh vực lập trình nhúng hay không bằng cách thiết kế và thực thi một hệ thống nhúng thực tế sử dụng Rust.

Vì giới hạn thời gian cũng như các vấn đề kĩ thuật trong việc nghiên cứu phân tích một ngôn ngữ lập trình cũng như mục tiêu ban đầu là nghiên cứu ngôn ngữ lập trình này để áp dụng vào một dự án thực tế mà đề tài không đi sâu phân tích các khía cạnh của ngôn ngữ này, mà chỉ đưa ra một số khái niệm quan trọng nổi bật để giúp người đọc có thể hình dung và nắm bắt được cách mà một dự án viết sử dụng ngôn ngữ này hoạt động như thế nào.
Trong quá trình này, tôi đưa ra một số phân tích về những cách làm ``mới'' này đã giải quyết được những vấn đề gì trong những dự án nhúng sử dụng các ngôn ngữ khác.
Và cuối cùng, từ quá trình nghiên cứu thực hiện và phát triển hệ thống, tôi đưa ra những kết quả và nhận xét cuối cùng về ngôn ngữ lập trình này, cũng như những hướng phát triển, đóng góp cho nó.

\section{Cấu trúc luận văn}
Toàn bộ nội dung luận văn được tôi trình bày thành 5 chương. Các chương này nêu ra những kiến thức cần thiết, chi tiết để tìm hiểu phân tích một ngôn ngữ lập trình và chi tiết cách thức để thiết kế và thực hiện một hệ thống sử dụng ngôn ngữ lập trình Rust. Và ở chương cuối cùng, tôi đưa những nhận xét, đánh giá về những kết quả đạt được, cũng như nêu ra những hạn chế gặp phải khi thực hiện hệ thống và hướng phát triển cũng như các cách đóng góp cho Rust trong tương lai. Sau đây là nội dung chính của mỗi chương:

\textbf{Chương 1: Tổng quan}

Chương đầu tiên tôi đưa ra vấn đề về hệ thống nhúng hiện đại, và nêu lên mục tiêu, động cơ và phạm vi thực hiện của luận án. Toàn bộ chương này giúp người đọc có được cái nhìn toàn cảnh về lí do tôi tiến hành thực hiện nghiên cứu đề tài, vai trò và vị trí của đề trong quá trình phát triển một hệ thống nhúng hiệu quả, an toàn và tin cậy sử dụng một ngôn ngữ lập trình tương đối mới mẻ này.

\textbf{Chương 2: Cơ sở lý thuyết}

Chương này cung cấp các cơ sở lý thuyết về một ngôn ngữ lập trình, các tiêu chí để đánh giá một ngôn ngữ lập trình, từ đó đi vào phân tích và đánh giá sâu hơn về những tiêu chí này, từ cú pháp của ngôn ngữ Rust, các công cụ đi kèm với ngôn ngữ Rust đến sử dụng ngôn ngữ Rust chung với một hệ thống C có sẵn, v.v..

\textbf{Chương 3: Lập trình hệ thống nhúng trong Rust}

Trong chương này, tôi thực hiện trình bày các lý thuyết về hệ sinh thái nhúng của Rust, so sánh chúng với hệ sinh thái nhúng của C cũng như đưa ra lý thuyết để thực hiện lập trình một hệ thống nhúng cơ bản trong Rust từ đó có cái nhìn sâu hơn về cách thực hiện một hệ thống nhúng thực tế sử dụng ngôn ngữ Rust.

\textbf{Chương 4: Ứng dụng ngôn ngữ Rust}

Trong chương này, tôi thực hiện một vài dự án từ đơn giản đến phức tạp trên một vi điều khiển thực tế đi từ những phần mềm đơn giản nhất như nháy LED cho đến ứng dụng thêm một vài thiết bị bên ngoài để từ đó có cái nhìn sâu hơn, cũng như lấy các kết quả, từ đó có thể đánh giá khách quan hơn về các hệ thống này.

\textbf{Chương 5: Kết luận và hướng phát triển}

Các kết quả, đánh giá, so sánh thực nghiệm của hệ thống được thực hiện trong chương 4 được tôi trình bày trong chương này, với mục tiêu đưa ra cái nhìn khách quan cũng như chủ quan về Rust nói chung cũng như một hệ thống được thực hiện sử dụng Rust nói riêng.

Ngoài ra từ toàn bộ kết quả đã thu được trong quá trình thực hiện nghiên cứu luận văn, tôi đưa ra một vài đề xuất để thúc đẩy quá trình phát triển Rust, và cách đóng góp cho ngôn ngữ Rust trong tương lai.
